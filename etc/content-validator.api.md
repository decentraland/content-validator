## API Report File for "@dcl/content-validator"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

/// <reference types="node" />

import { AuthChain } from '@dcl/schemas';
import { BlockchainCollectionThirdParty } from '@dcl/urn-resolver';
import { BlockchainCollectionV1Asset } from '@dcl/urn-resolver';
import { BlockchainCollectionV2Asset } from '@dcl/urn-resolver';
import { BlockSearch } from '@dcl/block-indexer';
import { Entity } from '@dcl/schemas';
import { EthAddress } from '@dcl/schemas';
import { ILoggerComponent } from '@well-known-components/interfaces';
import { ISubgraphComponent } from '@well-known-components/thegraph-component';
import { Variables } from '@well-known-components/thegraph-component';

// @public (undocumented)
export type BlockInformation = {
    blockNumberAtDeployment: number | undefined;
    blockNumberFiveMinBeforeDeployment: number | undefined;
};

// @public (undocumented)
export function calculateDeploymentSize(deployment: DeploymentToValidate, externalCalls: ExternalCalls): Promise<number | string>;

// @public
export type ContentValidatorComponents = {
    logs: ILoggerComponent;
    externalCalls: ExternalCalls;
    accessValidateFn: ValidateFn;
};

// @public (undocumented)
export function createValidateFns(components: ContentValidatorComponents): ValidateFn[];

// @public
export const createValidator: (components: ContentValidatorComponents) => Validator;

// @public
export type DeploymentToValidate = {
    entity: Entity;
    files: Map<string, Uint8Array>;
    auditInfo: LocalDeploymentAuditInfo;
};

// @public (undocumented)
export type EntityWithEthAddress = Entity & {
    ethAddress: string;
};

// @public (undocumented)
export type Errors = string[];

// @public
export type ExternalCalls = {
    isContentStoredAlready: (hashes: string[]) => Promise<Map<string, boolean>>;
    fetchContentFileSize: (hash: string) => Promise<number | undefined>;
    validateSignature: (entityId: string, auditInfo: LocalDeploymentAuditInfo, timestamp: number) => Promise<{
        ok: boolean;
        message?: string;
    }>;
    ownerAddress: (auditInfo: LocalDeploymentAuditInfo) => string;
    isAddressOwnedByDecentraland: (address: string) => boolean;
};

// @public (undocumented)
export const fromErrors: (...errors: Errors) => ValidationResponse;

// @public (undocumented)
export type L1Checker = {
    checkLAND(ethAddress: string, parcels: [number, number][], block: number): Promise<boolean[]>;
    checkNames(ethAddress: string, names: string[], block: number): Promise<boolean[]>;
};

// @public (undocumented)
export type L2Checker = {
    validateWearables(ethAddress: string, contractAddress: string, assetId: string, hashes: string[], block: number): Promise<boolean>;
    validateThirdParty(tpId: string, root: Buffer, block: number): Promise<boolean>;
};

// @public (undocumented)
export type LocalDeploymentAuditInfo = {
    authChain: AuthChain;
};

// @public (undocumented)
export const OK: ValidationResponse;

// @public (undocumented)
export type OnChainAccessCheckerComponents = ContentValidatorComponents & {
    client: OnChainClient;
    L1: {
        checker: L1Checker;
        collections: ISubgraphComponent;
        blockSearch: BlockSearch;
    };
    L2: {
        checker: L2Checker;
        collections: ISubgraphComponent;
        blockSearch: BlockSearch;
    };
};

// @public (undocumented)
export type OnChainClient = {
    ownsNamesAtTimestamp: (ethAddress: EthAddress, namesToCheck: string[], timestamp: number) => Promise<PermissionResult>;
    ownsItemsAtTimestamp: (ethAddress: EthAddress, urnsToCheck: string[], timestamp: number) => Promise<PermissionResult>;
    findBlocksForTimestamp: (timestamp: number, blockSearch: BlockSearch) => Promise<BlockInformation>;
};

// @public
export type QueryGraph = <T = any>(query: string, variables?: Variables, remainingAttempts?: number) => Promise<T>;

// @public (undocumented)
export type SubgraphAccessCheckerComponents = ContentValidatorComponents & {
    theGraphClient: TheGraphClient;
    subGraphs: SubGraphs;
};

// @public
export type SubGraphs = {
    L1: {
        landManager: ISubgraphComponent;
        blocks: ISubgraphComponent;
        collections: ISubgraphComponent;
        ensOwner: ISubgraphComponent;
    };
    L2: {
        blocks: ISubgraphComponent;
        collections: ISubgraphComponent;
        thirdPartyRegistry: ISubgraphComponent;
    };
};

// @public (undocumented)
export type TheGraphClient = {
    ownsNamesAtTimestamp: (ethAddress: EthAddress, namesToCheck: string[], timestamp: number) => Promise<PermissionResult>;
    ownsItemsAtTimestamp: (ethAddress: EthAddress, urnsToCheck: string[], timestamp: number) => Promise<PermissionResult>;
    findBlocksForTimestamp: (subgraph: ISubgraphComponent, timestamp: number) => Promise<BlockInformation>;
};

// @public (undocumented)
export type ThirdPartyAssetValidateFn = (asset: BlockchainCollectionThirdParty, deployment: DeploymentToValidate) => Promise<ValidationResponse>;

// @public (undocumented)
export type V1andV2collectionAssetValidateFn = (asset: BlockchainCollectionV1Asset | BlockchainCollectionV2Asset, deployment: DeploymentToValidate) => Promise<ValidationResponse>;

// @public (undocumented)
export type ValidateFn = (deployment: DeploymentToValidate) => Promise<ValidationResponse>;

// @public (undocumented)
export type ValidationArgs = {
    deployment: DeploymentToValidate;
};

// @public (undocumented)
export const validationFailed: (...error: string[]) => ValidationResponse;

// @public (undocumented)
export type ValidationResponse = {
    ok: boolean;
    errors?: Errors;
};

// @public
export interface Validator {
    // (undocumented)
    validate(deployment: DeploymentToValidate): Promise<ValidationResponse>;
}

// @public (undocumented)
export type Warnings = string[];

// Warnings were encountered during analysis:
//
// src/types.ts:171:3 - (ae-forgotten-export) The symbol "PermissionResult" needs to be exported by the entry point index.d.ts

// (No @packageDocumentation comment for this package)

```
